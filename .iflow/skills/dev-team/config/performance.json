{"$schema": "http://json-schema.org/draft-07/schema#", "title": "Performance Configuration", "description": "Defines performance metrics and thresholds", "type": "object", "properties": {"budgets": {"type": "object", "description": "Performance budgets for different resource types", "properties": {"javascript": {"type": "object", "description": "JavaScript bundle budgets", "properties": {"initial": {"type": "number", "description": "Initial JavaScript bundle size in KB", "minimum": 1, "default": 200}, "chunk": {"type": "number", "description": "Maximum lazy-loaded chunk size in KB", "minimum": 1, "default": 50}, "total": {"type": "number", "description": "Total JavaScript size in KB", "minimum": 1, "default": 500}, "gzip": {"type": "number", "description": "Gzipped bundle size in KB", "minimum": 1, "default": 100}}, "required": ["initial", "chunk", "total", "gzip"]}, "css": {"type": "object", "description": "CSS bundle budgets", "properties": {"initial": {"type": "number", "description": "Initial CSS bundle size in KB", "minimum": 1, "default": 50}, "chunk": {"type": "number", "description": "Maximum lazy-loaded chunk size in KB", "minimum": 1, "default": 20}, "total": {"type": "number", "description": "Total CSS size in KB", "minimum": 1, "default": 100}}, "required": ["initial", "chunk", "total"]}, "images": {"type": "object", "description": "Image resource budgets", "properties": {"hero": {"type": "number", "description": "Maximum hero image size in KB", "minimum": 1, "default": 500}, "content": {"type": "number", "description": "Maximum content image size in KB", "minimum": 1, "default": 200}, "thumbnail": {"type": "number", "description": "Maximum thumbnail size in KB", "minimum": 1, "default": 50}, "icon": {"type": "number", "description": "Maximum icon size in KB", "minimum": 1, "default": 10}}, "required": ["hero", "content", "thumbnail", "icon"]}, "fonts": {"type": "object", "description": "Font resource budgets", "properties": {"total": {"type": "number", "description": "Total font size in KB", "minimum": 1, "default": 100}, "woff2": {"type": "number", "description": "WOFF2 font size in KB", "minimum": 1, "default": 50}, "subset": {"type": "boolean", "description": "Enable font subsetting", "default": true}}, "required": ["total", "woff2", "subset"]}, "html": {"type": "object", "description": "HTML document budgets", "properties": {"maxSize": {"type": "number", "description": "Maximum HTML document size in KB", "minimum": 1, "default": 100}, "minify": {"type": "boolean", "description": "Enable HTML minification", "default": true}}, "required": ["maxSize", "minify"]}}, "required": ["javascript", "css", "images", "fonts", "html"]}, "metrics": {"type": "object", "description": "Core Web Vitals and performance metrics", "properties": {"largestContentfulPaint": {"type": "number", "description": "Maximum LCP in milliseconds", "minimum": 0, "default": 2500}, "firstInputDelay": {"type": "number", "description": "Maximum FID in milliseconds", "minimum": 0, "default": 100}, "cumulativeLayoutShift": {"type": "number", "description": "Maximum CLS score", "minimum": 0, "default": 0.1}, "firstContentfulPaint": {"type": "number", "description": "Maximum FCP in milliseconds", "minimum": 0, "default": 1800}, "timeToInteractive": {"type": "number", "description": "Maximum TTI in milliseconds", "minimum": 0, "default": 3800}, "totalBlockingTime": {"type": "number", "description": "Maximum TBT in milliseconds", "minimum": 0, "default": 200}, "speedIndex": {"type": "number", "description": "Maximum Speed Index in milliseconds", "minimum": 0, "default": 3400}}, "required": ["largestContentfulPaint", "firstInputDelay", "cumulativeLayoutShift", "firstContentfulPaint", "timeToInteractive"]}, "lighthouse": {"type": "object", "description": "Lighthouse performance score thresholds", "properties": {"performance": {"type": "number", "description": "Minimum performance score (0-100)", "minimum": 0, "maximum": 100, "default": 90}, "accessibility": {"type": "number", "description": "Minimum accessibility score (0-100)", "minimum": 0, "maximum": 100, "default": 90}, "bestPractices": {"type": "number", "description": "Minimum best practices score (0-100)", "minimum": 0, "maximum": 100, "default": 90}, "seo": {"type": "number", "description": "Minimum SEO score (0-100)", "minimum": 0, "maximum": 100, "default": 90}}, "required": ["performance", "accessibility", "bestPractices", "seo"]}, "runtime": {"type": "object", "description": "Runtime performance settings", "properties": {"hydration": {"type": "object", "description": "React hydration performance", "properties": {"maxTime": {"type": "number", "description": "Maximum hydration time in milliseconds", "minimum": 0, "default": 500}, "warningThreshold": {"type": "number", "description": "Hydration warning threshold in milliseconds", "minimum": 0, "default": 100}}, "required": ["maxTime", "warningThreshold"]}, "rendering": {"type": "object", "description": "Rendering performance settings", "properties": {"maxComponentRenderTime": {"type": "number", "description": "Maximum component render time in milliseconds", "minimum": 0, "default": 16}, "virtualizationThreshold": {"type": "number", "description": "Number of items to trigger virtualization", "minimum": 0, "default": 100}}, "required": ["maxComponentRenderTime", "virtualizationThreshold"]}, "memory": {"type": "object", "description": "Memory usage limits", "properties": {"maxHeapMB": {"type": "number", "description": "Maximum heap size in MB", "minimum": 10, "default": 500}, "leakDetection": {"type": "boolean", "description": "Enable memory leak detection", "default": true}}, "required": ["maxHeapMB", "leakDetection"]}}, "required": ["hydration", "rendering", "memory"]}, "optimization": {"type": "object", "description": "Build-time optimization settings", "properties": {"minification": {"type": "boolean", "description": "Enable code minification", "default": true}, "treeShaking": {"type": "boolean", "description": "Enable tree shaking", "default": true}, "codeSplitting": {"type": "boolean", "description": "Enable code splitting", "default": true}, "lazyLoading": {"type": "boolean", "description": "Enable lazy loading", "default": true}, "imageOptimization": {"type": "boolean", "description": "Enable automatic image optimization", "default": true}, "compression": {"type": "object", "description": "Compression settings", "properties": {"brotli": {"type": "boolean", "description": "Enable Brotli compression", "default": true}, "gzip": {"type": "boolean", "description": "Enable gzip compression", "default": true}}, "required": ["brotli", "gzip"]}}, "required": ["minification", "treeShaking", "codeSplitting", "lazyLoading", "imageOptimization", "compression"]}, "monitoring": {"type": "object", "description": "Performance monitoring settings", "properties": {"realUserMonitoring": {"type": "boolean", "description": "Enable real user monitoring", "default": true}, "sampleRate": {"type": "number", "description": "RUM sampling rate (0-1)", "minimum": 0, "maximum": 1, "default": 0.1}, "alertThresholds": {"type": "object", "description": "Alert thresholds for performance degradation", "properties": {"p75Latency": {"type": "number", "description": "P75 latency threshold in milliseconds", "minimum": 0, "default": 2000}, "p95Latency": {"type": "number", "description": "P95 latency threshold in milliseconds", "minimum": 0, "default": 4000}, "p99Latency": {"type": "number", "description": "P99 latency threshold in milliseconds", "minimum": 0, "default": 6000}}, "required": ["p75Latency", "p95Latency", "p99Latency"]}}, "required": ["realUserMonitoring", "sampleRate", "alertThresholds"]}}, "required": ["budgets", "metrics", "lighthouse", "runtime", "optimization", "monitoring"]}