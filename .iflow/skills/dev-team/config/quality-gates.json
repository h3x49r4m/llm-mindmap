{"$schema": "http://json-schema.org/draft-07/schema#", "title": "Quality Gates Configuration", "description": "Defines quality thresholds and enforcement criteria for development workflow", "type": "object", "properties": {"codeCoverage": {"type": "object", "description": "Test coverage requirements", "properties": {"lines": {"type": "number", "description": "Minimum line coverage percentage (0-100)", "minimum": 0, "maximum": 100, "default": 80}, "branches": {"type": "number", "description": "Minimum branch coverage percentage (0-100)", "minimum": 0, "maximum": 100, "default": 70}, "functions": {"type": "number", "description": "Minimum function coverage percentage (0-100)", "minimum": 0, "maximum": 100, "default": 75}, "statements": {"type": "number", "description": "Minimum statement coverage percentage (0-100)", "minimum": 0, "maximum": 100, "default": 80}}, "required": ["lines", "branches", "functions", "statements"]}, "codeComplexity": {"type": "object", "description": "Code complexity limits (Simplicity First principle)", "properties": {"cyclomaticComplexity": {"type": "number", "description": "Maximum cyclomatic complexity per function", "minimum": 1, "default": 10}, "cognitiveComplexity": {"type": "number", "description": "Maximum cognitive complexity per function", "minimum": 1, "default": 15}, "maxFunctionLength": {"type": "number", "description": "Maximum lines per function", "minimum": 1, "default": 50}, "maxFileLength": {"type": "number", "description": "Maximum lines per file", "minimum": 1, "default": 300}, "maxNestingDepth": {"type": "number", "description": "Maximum nesting depth", "minimum": 1, "default": 4}}, "required": ["cyclomaticComplexity", "cognitiveComplexity", "maxFunctionLength", "maxFileLength", "maxNestingDepth"]}, "security": {"type": "object", "description": "Security vulnerability thresholds", "properties": {"maxCriticalVulnerabilities": {"type": "number", "description": "Maximum allowed critical vulnerabilities", "minimum": 0, "default": 0}, "maxHighVulnerabilities": {"type": "number", "description": "Maximum allowed high severity vulnerabilities", "minimum": 0, "default": 0}, "maxMediumVulnerabilities": {"type": "number", "description": "Maximum allowed medium severity vulnerabilities", "minimum": 0, "default": 5}, "maxLowVulnerabilities": {"type": "number", "description": "Maximum allowed low severity vulnerabilities", "minimum": 0, "default": 10}, "scanTimeout": {"type": "number", "description": "Security scan timeout in seconds", "minimum": 60, "default": 300}}, "required": ["maxCriticalVulnerabilities", "maxHighVulnerabilities", "maxMediumVulnerabilities", "maxLowVulnerabilities", "scanTimeout"]}, "architecture": {"type": "object", "description": "Architecture compliance limits", "properties": {"maxCircularDependencies": {"type": "number", "description": "Maximum allowed circular dependencies", "minimum": 0, "default": 0}, "maxLayerViolations": {"type": "number", "description": "Maximum allowed architectural layer violations", "minimum": 0, "default": 0}, "maxDuplicateCodePercentage": {"type": "number", "description": "Maximum allowed duplicate code percentage", "minimum": 0, "maximum": 100, "default": 3}, "maxPublicApiSurface": {"type": "number", "description": "Maximum number of public API exports per module", "minimum": 1, "default": 50}}, "required": ["maxCircularDependencies", "maxLayerViolations", "maxDuplicateCodePercentage", "maxPublicApiSurface"]}, "performance": {"type": "object", "description": "Performance thresholds", "properties": {"maxBundleSizeKB": {"type": "number", "description": "Maximum JavaScript bundle size in KB", "minimum": 1, "default": 500}, "maxLoadTimeMS": {"type": "number", "description": "Maximum page load time in milliseconds", "minimum": 100, "default": 3000}, "maxTimeToInteractiveMS": {"type": "number", "description": "Maximum time to interactive in milliseconds", "minimum": 100, "default": 5000}, "maxLighthouseScore": {"type": "number", "description": "Minimum Lighthouse performance score (0-100)", "minimum": 0, "maximum": 100, "default": 90}}, "required": ["maxBundleSizeKB", "maxLoadTimeMS", "maxTimeToInteractiveMS", "maxLighthouseScore"]}, "accessibility": {"type": "object", "description": "Accessibility compliance requirements", "properties": {"wcagLevel": {"type": "string", "description": "WCAG compliance level", "enum": ["A", "AA", "AAA"], "default": "AA"}, "maxAccessibilityErrors": {"type": "number", "description": "Maximum allowed accessibility errors", "minimum": 0, "default": 0}, "minAccessibilityScore": {"type": "number", "description": "Minimum accessibility score (0-100)", "minimum": 0, "maximum": 100, "default": 90}, "contrastRatio": {"type": "number", "description": "Minimum contrast ratio for text", "minimum": 1, "maximum": 21, "default": 4.5}}, "required": ["wcagLevel", "maxAccessibilityErrors", "minAccessibilityScore", "contrastRatio"]}, "enforcement": {"type": "object", "description": "Quality gate enforcement settings", "properties": {"blockOnFailure": {"type": "boolean", "description": "Whether to block commits on quality gate failures", "default": true}, "remediationRequired": {"type": "boolean", "description": "Whether remediation is required before proceeding", "default": true}, "maxRetryAttempts": {"type": "number", "description": "Maximum number of retry attempts after fixing issues", "minimum": 1, "default": 3}, "notificationOnFailure": {"type": "boolean", "description": "Whether to send notifications on quality gate failures", "default": true}}, "required": ["blockOnFailure", "remediationRequired", "maxRetryAttempts", "notificationOnFailure"]}}, "required": ["codeCoverage", "codeComplexity", "security", "architecture", "performance", "accessibility", "enforcement"]}